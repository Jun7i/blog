---
title: Diet app project
date: 2022-09-01
tags:
 - diet app
categories: 
 - Website
---

## ISTA498 Senior Capstone project

Diet Website: Healthy Food Alternatives **Project pitch**

Our project will be a diet website that lets users type in what they are craving and our data will give back a healthier alternative. We will do this by using large datasets that compare ingredients in the “unhealthy” food with “healthy” alternatives. We will also use web scraping tools to also solve this problem.

**Names and general skills**

Names: Robert Lopez, Jessica Ambriz , Eduardo Tocco , Zejun Li, and Kevin Sun Robert: Web Development

Jessica: Data Querying

Eduardo : Data wrangling

Zejun : Data Querying

Kevin Sun: Coding and Modeling with Python/R

**Data Ethics Checklist**

Please fill out the following checklist for during general use or after a data breach.



|**#**|**Question**|**Generally**|**Data Breach**|**Example**|
| - | - | - | - | - |
|1|Could a user sell drugs or other illegal items on your platform?|N|N||
|2|Could a user of your platform engage in sex trafficking?|N|N||


|3|Could a user sell class notes or cheat on their homework on your platform?|N|N||
| - | :- | - | - | :- |
|4|Could a stalker use your project to find someone?|N|N||
|5|Could your app be used to spy on or track individuals?|N|N||
|6|Could your app/software access the camera or microphone and record things without users being aware?|N|N||
|7|If someone uses your platform, could they be re-traumatized or have their mental health impacted in some way?|M|M|https://www.aetna.com/health-guide /food-affects-mental-health.html|
|8|Could your algorithm promote material that would traumatize or upset individuals?|N|N||
|9|Would your users be upset if the data you collect was given to someone else?|N|N||


|10|Could a data leak potentially lead to identity theft?|N|N||
| - | - | - | - | :- |
|11|If your site was hacked, would users of that product potentially lose their job, spouse, or family?|N|N||
|12|Should there be an age limitation on your product?|Y|Y||
|13|Could someone use your product to find, contact, and potentially commit elder abuse?|N|N||
|14|If the data on your platform was breached, could it be used to blackmail the users?|N|N||
|15|Does the existence of your project imply that a particular racial group, gender, religion or other protected category is inherently bad, gross, or unwanted?|N|N||
|16|Could your product be used to commit|N|N||


||hate crimes against a specific group?||||
| :- | :- | :- | :- | :- |
|17|Does the primary content of your game or algorithm focus on something considered deeply unethical?|N|N||
|18|Does your game or software contain race, gender, or other stereotypes?|N|N||
|19|Could users of your app scam other individuals?|N|N||
|20|Is your particular algorithm biased towards predicting correctly only for one race, gender, or other group?|N|N||
|21|Are the users of your project, players of your game, or those being surveyed for your data aware of how their data will be used?|Y|Y|No data is being collected.|


|22|What are the possible misinterpretations of your results? For example - would a white supremacist or misogynist be stoked about your results if they misinterpreted it?|M|M||
| - | :- | - | - | :- |
|23|Does the use or purchase of your data potentially contribute to a dangerous group or regime?|N|N||
|24|Could your virtual reality environment cause injury to the user?|N|N||
|25|Are your study participants or game players aware that their data will be collected and used?|Y|Y|No data should be collected.|
|26|Does your game or app contain addictive design elements without benefit to the user?|N|N||


|27|Does your survey contain an aspect of compulsion or unusually large incentive, that would command users to take it even if it was to their detriment?|N|N||
| - | :- | - | - | :- |
|28|Could your research outcomes harm an individual or entity?|M|M|https://www.safetyandhealthmagazi ne.com/articles/18154-safe-recipe-st yle-guide-food-safety-group-cooks- up-online-resource|
**Data Ethics Responses**

\7. Users may have their mental health affected if they dislike our outputs.

\12. We think only adults should be able to use our service since they are old enough to make a decision to follow our meals.

21. We will make sure that their entries are not saved or collected.
21. A possible misinterpretation could be that meals are the only alternative. There could be multiple alternatives

\28. This may be harmful if they have any health issues. We will make sure to list all the ingredients and that they should only eat these meals if they are not allergic.

**Skills & Data Breakdown**

Ability to write code for web development

Robert: HTML, CSS, JavaScript, AJAX Coding and modeling with Python/R

Robert, Eduardo, Jessica, kevin, Zejun Ability to web scrape for data

Robert looking into it       Online repositories of data needed

Everyone looking

**Literature/Market Review**

1. Eat This, Not That! (<https://www.eatthis.com>) This website has a similar theme of eating better options but it does not have a food search. This website is more of a blog or magazine filled with healthy recipes. Our website will give recipes based on what the user inputs. For example, Pizza should output a cauliflower pizza or keto pizza.
1. Ready, Set, Eat (<https://www.readyseteat.com>) Again, this is a repository dump of meals that could be considered healthy like low-carb foods. This website also contains junk food on their page. Besides this, our website is very different from this page. This page does not condone healthy eating, just any type of recipe.
1. Nourish by WebMD  (https://www.webmd.com/diet/guide/healthy-eating-and-diet-real-life-tips) This website link contains tools such as BMI calculator, portion size calculator, but most importantly a food calculator. This food calculator takes food as input and gives back nutritional information. Our website will take food as an input as well, but it will give back another food but in a much healthier way instead of macronutrients.
1. Allrecipes (<https://www.allrecipes.com>) This is a close website to ours except the fact it completely neglects the idea of healthy foods. When searching “Pizza” on this website, it gives back items like Bakery-Style Pizza, Chunky Pizza Dip, etc. Our website will plan to give back only healthy versions of these foods.
1. EatingWell (https://www.eatingwell.com/recipes)

This website is also similar to how our engine will work. This does not have a search but it is filled with healthy recipes. So, we intend to have similar recipes but instead have the user input a bad food and be given a healthy alternative.

**Timeline**



|Week|Robert|Eduardo|Jessica|Kevin|Zejun|
| - | - | - | - | - | - |
|5|<p>Email Potential Mentors</p><p>Update Project Proposal</p>|Update Project Proposal|Update Project Proposal|Update Project Proposal|Update Project Proposal|
|6|Setup meeting with Mentor schedule|Find data|Find data|Find data|Find data|
|7|<p>Build outline for website</p><p>Web scrape</p>|Clean Big Data|Build outline for website|Clean Big Data|web scrape|
|8|Create database for food|Create database for food|clean food data|clean food data|web scrape|
|9|Test website|Test website|clean food data|clean food data|clean food data|


|10|Add Logic to website|Add Logic to website|Finalize data|Finalize data|Finalize data|
| - | :- | - | - | - | - |
|11|Query databases from website|Query databases from website|Add more data if needed|Add more data if needed|Add more data if needed|
|12|Query databases from website|Query databases from website|Debug|Debug|Debug|
|13|Polish Website|Polish Website|Polish Website|Polish Website|Polish Website|
|14|Record video|Record video|Record video|Record video|Record video|
**Final Deliverable Product Specifications**

The end product for our project will be a fully functioning food search for healthy alternatives.

- Plenty of healthy meals
- Ability to filter meals by specific ingredients if needed by user

**Compatible Systems:**

Chrome Browser

**Minimum Deliverable:**

The minimum Deliverable will be a website that asks users to input a food they are craving. Then, the website will update and give a list of at least 3 meals that are a healthier alternative. We plan to get one from a database, one from web scraping, and another from either or.

**Expandable Deliverable:**

We plan to add workout variety the same we do with the meals. A user could input a workout and we will provide alternative workouts.

**Data Availability:**

We plan to use a large database for at least one quality alternative meal. One way we plan to use the database is to find the ingredients in the “bad” food. For example, “cheeseburger” will look for “cheese” and “burger” in the database, then output all healthy foods that have to do both words, for example “lettuce wrapped *cheeseburger”.* There is also a website we plan to use [https://www.nutritools.org/links ](https://www.nutritools.org/links)for databases and also <https://world.openfoodfacts.org/>. However, we would like to web scrape. The main reason is because when you google, “healthier recipe for pizza”, we want to get those meals.


## Poster
![](https://raw.githubusercontent.com/Jun7i/blog-reco-theme/main/blogs/category2/dietapp/Capstone_Poster.png)
## Home page
![Home page](https://raw.githubusercontent.com/Jun7i/blog/main/blogs/category2/dietapp/output1.png)
## Output page
![Output page](https://raw.githubusercontent.com/Jun7i/blog/main/blogs/category2/dietapp/output2.png)
## Detail page
![Detail page](https://raw.githubusercontent.com/Jun7i/blog/main/blogs/category2/dietapp/output3.png)
## view.html
```html
<!DOCTYPE html>
<!-- Zejun Li -->
<html>

<head>
<link rel="stylesheet" href="capstone.css">
<title>view</title>
<script type="text/javascript"
	src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
	
</script>
<style>
.imgout {
	height: 140px;
	width: 150px;
	float: left;
	margin-top: -10px;
}
.headerHome {
	border: rgb(0, 0, 0) solid 3px;
	bottom: -20px;
	color: rgb(0, 0, 0);
	font-size: 18pt;
	right: 10%;
	padding: 3px;
	position: relative;
	margin: 20px;
	float: right;
}

.header {
	background-image:
		url("https://media.istockphoto.com/id/1069944196/vector/the-abstract-vector-image-green-wave-on-white-background.jpg?s=612x612&w=0&k=20&c=-YGMrq4vYBxk17hRGenYvushzoJ9Pq_T2eXb2N250ic=");
	box-shadow: 0 5px 5px rgb(58, 37, 37);
	height: 104px;
	background-repeat: no-repeat;
	background-size: cover;
	position: relative;
}


.headerText {
	margin: 20px;
}


.header>div {
	bottom: -10px;
	color: black;
	font-family: Tahoma, sans-serif;
	font-size: 36pt;
	position: absolute;
	left: 10%;
}
</style>
</head>

<body>

	<div class="header">
		<div class="headerText">
			Better <span>Choice!</span>
			<img src = 'https://static.wixstatic.com/media/69e890_7ac3191467e244b3845421625a7f9e11~mv2.png/v1/fill/w_319,h_321,al_c,q_85,enc_auto/IMG_1596.png' width = 80px height = 80px>
			
		</div>
		<button class="headerHome" onclick="window.location.href='about.php'">About</button>
		<button class="headerHome" onclick="showAllFood()">Home</button>

	</div>
	<div class='searchBar'>
		<br> <label for="foodName">Food name:</label> <input type="text"
			id="name"> <br>
		<button type="button" id="search" onClick="showAllFood()">Search</button>
	</div>
	<div id='outer'>
		<div id='cardsID'></div>
		<div id='detailsID'></div>
		<div id='pieID'></div>
		<div id='tableID'></div>

	</div>


	<script type="text/javascript">
		function showAllFood() {
			var food = document.getElementById('name').value;
			var ajax = new XMLHttpRequest();
			ajax.open('GET', 'controller.php?tableName=foodtbl&substring='
					+ food, true);
			ajax.send();
			ajax.onreadystatechange = function() {
				if (ajax.readyState == 4 && ajax.status == 200) {
					array = JSON.parse(ajax.responseText);
					if (array.length == 0) {
						str = "<br>No matches for: " + "'" + name.value + "'";
						document.getElementById('cardsID').innerHTML = str;
					} else {
						var str = "";
						for (var i = 0; i < 12; i++) {
							var url = array[i].image_url;
							str += "<div class='onebook'>";
							if (url != 'undefined') {
								str += "<h5>" + array[i].brands + ": "
										+ array[i].product_name + "</h5>"
										+ "<img class ='imgout' src = '"
										+ array[i].image_url + "'id='"
										+ array[i].product_name
										+ "'onclick = 'showFood(this, " + i
										+ ")'>";
							} else {
								str += "<h5>"
										+ array[i].brands
										+ ": "
										+ array[i].product_name
										+ "</h5>"
										+ "<img class ='imgout' src = '"
										+ "https://toppng.com/uploads/preview/clipart-free-seaweed-clipart-draw-food-placeholder-11562968708qhzooxrjly.png"
										+ "'onclick = 'showFood(this, " + i
										+ ")'>";
							}
							str += "</div>";
						}
						document.getElementById('cardsID').innerHTML = str;
						document.getElementById('pieID').innerHTML = "";
						document.getElementById('tableID').innerHTML = "";
					}
				}
			}
		}

		var product;
		var energy;
		var fat;
		var saturated_fat;
		var sugar;
		var salt;
		var sodium;
		var fiber;
		var calories;
		var proteins;
		var score;
		var image;
		function showFood(food, index) {
			var ajax = new XMLHttpRequest();
			var name = food.id;
			var str = "";
			ajax.open("GET", 'controller.php?tableName=foodtb&substring ='
					+ index + '&id=' + name, true);
			ajax.send();
			ajax.onreadystatechange = function() {
				if (ajax.readyState == 4 && ajax.status == 200) {
					array = JSON.parse(ajax.responseText);
				}
			}

			product = array[index].product_name;
			energy = array[index].energy_100g;
			fat = array[index].fat_100g;
			saturated_fat = array[index].saturated_fat_100g;
			sugar = array[index].sugars_100g;
			salt = array[index].salt_100g;
			sodium = array[index].sodium_100g;
			fiber = array[index].fiber_100g;
			calories = array[index].calories;
			proteins = array[index].proteins_100g;
			score = array[index].Food_item_score;
			var image = array[index].image_url;
			if (image == 'undefined'){
				image = "https://toppng.com/uploads/preview/clipart-free-seaweed-clipart-draw-food-placeholder-11562968708qhzooxrjly.png";
				}
			str += "<img class = 'imgin' src='"+image+"'>";
			str += '<span class="dot">';
			str += "<div class = 'score'> <h1>&nbsp&nbsp" + score
					+ '</div></h1>';
			str += '</span>';

			document.getElementById('cardsID').innerHTML = str;
			google.charts.load('current', {
				'packages' : [ 'table' ]
			});
			google.charts.load("current", {
				'packages' : [ "corechart" ]
			});
			google.charts.setOnLoadCallback(drawChart);

		}

		function drawChart() {
			var dataP = google.visualization.arrayToDataTable([
					[ 'Food info', 'number' ], [ 'Fat', fat ],
					[ 'Saturated fat', saturated_fat ], [ 'Sugar', sugar ],
					[ 'Salt', salt ], [ 'Sodium', sodium ], [ 'Fiber', fiber ],
					[ 'Proteins', proteins ] ]);
			var optionsP = {
				backgroundColor : '#fefcf4',
				title : product,
				width : 600,
				height : 600
			};
			var chart = new google.visualization.PieChart(document
					.getElementById('pieID'));
								var data = new google.visualization.DataTable();
	        data.addColumn('string', 'Nutrition facts');
	        data.addColumn('number', 'Number');
	        data.addRows([
	          ['Fat',  {v: fat}],
	          ['Saturated fat',   {v:saturated_fat}],
	          ['Sugar', {v: sugar}],
	          ['Salt',   {v: salt}],
	          ['Sodium', {v: sodium}],
	          ['Fiber', {v: fiber}],
	          ['Proteins', {v: proteins}],
	          ['Calories', {v: calories}],
	        ]);
	
	        var table = new google.visualization.Table(document.getElementById('tableID'));
	
	        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
			chart.draw(dataP, optionsP);
			

		}
		
		function aboutPage(){
			
		}
	</script>


</body>

</html>
```
## DatabaseAdaptor.php
```php
<?php

// Author: Zejun Li
class DatabaseAdaptor
{
    
    private $DB;
    public function __construct()
    {
        $dataBase = 'mysql:dbname=fooddb;charset=utf8;host=127.0.0.1';
        $user = 'root';
        $password = ''; // Empty string with XAMPP install
        try {
            $this->DB = new PDO($dataBase, $user, $password);
            $this->DB->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
        } catch (PDOException $e) {
            echo ('Error establishing Connection');
            exit();
        }
    }
    
    public function getFood($input)
    {
        $stmt = $this->DB->prepare("SELECT * FROM foodtbl WHERE categories_en LIKE'%".$input."%' ORDER BY Food_item_score DESC;");
        $stmt->execute();
        return $stmt->fetchAll(PDO::FETCH_ASSOC);
    }
   
    public function getOneFood($input)
    {
        $stmt = $this->DB->prepare("SELECT * FROM foodtbl WHERE product_name ='" . $input . "%';");
        $stmt->execute();
        return $stmt->fetchAll(PDO::FETCH_ASSOC);
    }
    
}
```

## controller.php
```php
<?php
// Author: Zejun Li
include 'DatabaseAdaptor.php';
$theDBA = new DatabaseAdaptor();

if ( ( $_GET['tableName'] === "foodtbl" && is_string($_GET['substring'])) ) {
    echo json_encode($theDBA->getFood($_GET['substring']));
} 
if ($_GET['tableName'] === "foodtb") {
    echo json_encode($theDBA->getOneFood($_GET['id']));
}
?>
```

## capstone.css
``` css
body {
	background-color: #fefcf4;
	margin: 0px;
}

.searchBar {
	width: 500px;
	margin: auto;
	font-family: cursive;
	text-align: center;
	font-size: 20pt;
}

.onebook {
	background-color: #f4f1eb;
	border-radius: 5px;
	box-shadow: 0 0 15px gray;
	float: left;
	margin: 30px;
	padding: 10px;
	width: 150px;
	height: 250px;
}



.imgin {
	height: 400px;
	width: 300px;
	float: right;
	margin-top: 100px;
	margin-right: 600px;
}

.score {
	margin-left: 30px;
	margin-top: 30px;
}

.dot {
	height: 100px;
	width: 100px;
	background-color: rgb(229, 255, 0);
	border-radius: 50%;
	display: inline-block;
	margin-left: 200px;
}



.header>div {
	bottom: -10px;
	color: black;
	font-family: Tahoma, sans-serif;
	font-size: 36pt;
	position: absolute;
	left: 10%;
}
```
